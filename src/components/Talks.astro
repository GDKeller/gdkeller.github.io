---
interface Appearance {
  title: string;
  event: string;
  year: string;
  type: "youtube" | "audio";
  videoId?: string;
  startTime?: number;
  embedUrl?: string;
}

const appearances: Appearance[] = [
  {
    title: "Stable Diffusion Real-Time Tool Set",
    event: "Production Summit LA",
    year: "2023",
    type: "youtube",
    videoId: "n1TnQvNTTQ8",
  },
  {
    title: "Dynamic Expressions for 2D Characters",
    event: "Production Summit LA",
    year: "2024",
    type: "youtube",
    videoId: "JHZ976lIQ3E",
  },
  {
    title: "Inside Experiential AI (clip)",
    event: "The AI Chicks Podcast",
    year: "2024",
    type: "youtube",
    videoId: "MPKU_DaPws4",
  },
  {
    title: "Inside Experiential AI (full episode)",
    event: "The AI Chicks Podcast",
    year: "2024",
    type: "audio",
    embedUrl: "https://playlist.megaphone.fm/?e=WNCOP5493168652&wmode=opaque",
  },
  {
    title: "Badge Hacking Ceremony",
    event: "Hackaday Supercon",
    year: "2018",
    type: "youtube",
    videoId: "WCLlz_taeQk",
    startTime: 807,
  },
];
---

<div class="talks container mx-auto max-w-6xl px-4 sm:px-6 md:px-8">
  <h2 class="section-heading__glow mb-4 text-center font-bokor text-5xl md:text-6xl">Appearances</h2>
  <p class="mx-auto mb-12 max-w-2xl text-center text-sm md:mb-16 md:text-base">
    Conference talks, podcasts, and hardware hacking
  </p>

  <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 lg:gap-10">
    {
      appearances.map((item) => (
        <article class="group relative bg-gradient-to-br from-emerald-800/15 via-teal-950/20 to-emerald-950/20 px-4 py-4">
          <div class={`relative mb-4 overflow-hidden ${item.type === "audio" ? "h-48" : "aspect-video"}`}>
            {item.type === "youtube" ? (
              <iframe
                src={`https://www.youtube.com/embed/${item.videoId}${item.startTime ? `?start=${item.startTime}` : ""}`}
                title={item.title}
                class="h-full w-full border-0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                loading="lazy"
              />
            ) : (
              <iframe
                src={item.embedUrl}
                title={item.title}
                class="h-full w-full border-0"
                scrolling="no"
                loading="lazy"
              />
            )}
          </div>
          <div class="space-y-1">
            <h3 class="font-prompt text-base font-medium text-emerald-200">{item.title}</h3>
            <p class="text-sm text-emerald-200/50">
              {item.event}, {item.year}
            </p>
          </div>
          <span
            class="corner corner--tl pointer-events-none absolute left-0 top-0 block h-2/3 w-1/4 opacity-80"
            role="presentation"
          />
          <span
            class="corner corner--br pointer-events-none absolute bottom-0 right-0 block h-1/3 w-1/3 opacity-30"
            role="presentation"
          />
        </article>
      ))
    }
  </div>
</div>

<style>
  .corner--tl {
    &::before {
      @apply absolute left-0 top-0 h-full w-0.5 bg-gradient-to-b from-emerald-400/20 via-teal-500/15 to-transparent;
      content: "";
    }
    &::after {
      @apply absolute left-0.5 top-0 h-0.5 w-full bg-gradient-to-r from-emerald-400/20 via-teal-500/15 to-transparent;
      content: "";
    }
  }

  .corner--br {
    &::before {
      @apply absolute bottom-0 right-0 h-full w-0.5 bg-gradient-to-t from-emerald-400/20 via-teal-500/15 to-transparent;
      content: "";
    }
    &::after {
      @apply absolute bottom-0 right-0.5 h-0.5 w-full bg-gradient-to-l from-emerald-400/20 via-teal-500/15 to-transparent;
      content: "";
    }
  }
</style>
